{"ast":null,"code":"import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-02e027ff\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"关键词：\");\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"地区：\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_bm_walking = _resolveComponent(\"bm-walking\");\n\n  const _component_baidu_map = _resolveComponent(\"baidu-map\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"label\", null, [_hoisted_1, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.keyword = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.keyword]])]), _createElementVNode(\"label\", null, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.location = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.location]])]), _createVNode(_component_baidu_map, {\n    class: \"map\",\n    style: {\n      \"overflow\": \"auto\"\n    },\n    center: \"山东省临沂市郯城县\",\n    \"scroll-wheel-zoom\": true\n  }, {\n    default: _withCtx(() => [_createVNode(_component_bm_walking, {\n      start: \"山东省临沂市郯城县中央华庭小区\",\n      end: \"郯城县体育场\",\n      \"auto-viewport\": true,\n      location: \"山东省临沂市郯城县\",\n      selectFirstResult: true\n    }), _createCommentVNode(\" { lng: 118.380272, lat: 34.616019 }体育馆 \"), _createCommentVNode(\" { lng: 123.792825, lat: 41.861801 } \")]),\n    _: 1\n    /* STABLE */\n\n  })]);\n}","map":{"version":3,"mappings":";;;;iDAce;;iDACA;;;;;;;uBAFXA,oBASM,KATN,EASM,IATN,EASM,CARFC,oBAA4C,OAA5C,EAA4C,IAA5C,EAA4C,6BAAjCA,oBAAyB,OAAzB,EAAyB;+DAATC,eAAOC;EAAE,CAAzB;;EAAA,kBAAgBD,eAAiB,CAA5C,CAQE,EAPFD,oBAA4C,OAA5C,EAA4C,IAA5C,EAA4C,6BAAlCA,oBAA0B,OAA1B,EAA0B;+DAAVC,gBAAQC;EAAE,CAA1B;;EAAA,kBAAgBD,gBAAkB,CAA5C,CAOE,EANFE,aAKYC,oBALZ,EAKY;IALDC,KAAK,EAAC,KAKL;IALWC,KAAqB,EAArB;MAAA;IAAA,CAKX;IALiCC,MAAM,EAAC,WAKxC;IALqD,qBAAmB;EAKxE,CALZ;sBACI,MAC2C,CAD3CJ,aAC2CK,qBAD3C,EAC2C;MAD/BC,KAAK,EAAC,iBACyB;MADPC,GAAG,EAAC,QACG;MADO,iBAAe,IACtB;MAD4BC,QAAQ,EAAC,WACrC;MAAtCC,iBAAiB,EAAE;IAAmB,CAD3C,CAC2C,EAC3CC,+DAD2C,EAE3CA,4DAF2C;;;;GAF/C,CAME,CATN","names":["_createElementBlock","_createElementVNode","_ctx","$event","_createVNode","_component_baidu_map","class","style","center","_component_bm_walking","start","end","location","selectFirstResult","_createCommentVNode"],"sourceRoot":"","sources":["D:\\MyAllCoding\\SmartCycling\\web\\src\\views\\user\\cycles\\UserCycleRunIndexView.vue"],"sourcesContent":["<!-- <template>\r\n    <input v-model=\"center.lng\">\r\n    <input v-model=\"center.lat\">\r\n    <input v-model=\"zoom\">\r\n    <baidu-map class=\"map\" :scroll-wheel-zoom=\"true\" :center=\"center\" :zoom=\"zoom\" @moving=\"syncCenterAndZoom\"\r\n        @moveend=\"syncCenterAndZoom\" @zoomend=\"syncCenterAndZoom\">\r\n    </baidu-map>    \r\n    <div id=\"container\"></div>\r\n\r\n    111\r\n</template> -->\r\n\r\n<template>\r\n    <div>\r\n        <label>关键词：<input v-model=\"keyword\"></label>\r\n        <label>地区：<input v-model=\"location\"></label>\r\n        <baidu-map class=\"map\" style=\"overflow:auto\" center=\"山东省临沂市郯城县\" :scroll-wheel-zoom=\"true\">\r\n            <bm-walking start=\"山东省临沂市郯城县中央华庭小区\" end=\"郯城县体育场\" :auto-viewport=\"true\" location=\"山东省临沂市郯城县\"\r\n                :selectFirstResult=\"true\"></bm-walking>\r\n            <!-- { lng: 118.380272, lat: 34.616019 }体育馆 -->\r\n            <!-- { lng: 123.792825, lat: 41.861801 } -->\r\n        </baidu-map>\r\n    </div>\r\n</template>\r\n\r\n\r\n<!-- 搜索前往自定义点，交给后端，给定区域找最近的自定义点，返回该点的坐标给前端 -->\r\n\r\n<!-- 定时上报地理位置：js定时器 -->\r\n\r\n<!-- 运动过程中不断移动的点：使用vue-baidu-map-v3中的point，通过每5s上报一次地理位置的时候，就更新点的坐标 -->\r\n\r\n<!-- 路径的显示和关闭可以通过v-if，再加上js中定义一个变量动态实现 -->\r\n\r\n<script>\r\n// import BaiduMap from 'vue-baidu-map/components/map/Map.vue'\r\n// import { onMounted } from 'vue'\r\n\r\nimport { BaiduMap } from 'vue-baidu-map-3x'\r\n// import { useStore } from 'vuex'\r\nimport { ref, nextTick } from 'vue';\r\n// import router from '@/router/index'\r\nexport default {\r\n\r\n    components: {\r\n        // BaiduMap\r\n        BaiduMap\r\n    },\r\n    setup() {\r\n        // const end = ref({\r\n        //     lng: 0,\r\n        //     lat: 0\r\n        // });\r\n        // const start = ref({\r\n        //     lng: 0,\r\n        //     lat: 0\r\n        // });\r\n        var param = localStorage.getItem(\"routeId\");\r\n        const routeId = param;\r\n        const center = ref({\r\n            lng: 118.36,\r\n            lat: 34.629\r\n        });\r\n        const localPoint = ref({ lng: 118.366382, lat: 34.629637 });\r\n        let zoom = ref(15);\r\n\r\n        console.log(\"routeID:\" + routeId);\r\n        const syncCenterAndZoom = (e) => {\r\n            const { lng, lat } = e.target.getCenter();\r\n            zoom.value = e.target.getZoom();\r\n            nextTick(() => {\r\n                center.value.lng = lng;\r\n                center.value.lat = lat;\r\n                console.log(\"center.value.lng=\" + center.value.lng);\r\n            })\r\n        };\r\n        const displayLocation = (position) => {\r\n            localPoint.value.lng = position.coords.longitude,\r\n                localPoint.value.lat = position.coords.latitude;\r\n            console.log(\"--------------------\");\r\n            console.log(localPoint.value.lng);\r\n        }\r\n        const displayError = () => {\r\n\r\n        }\r\n        navigator.geolocation.getCurrentPosition(displayLocation, displayError);\r\n        return {\r\n            center,\r\n            localPoint,\r\n            zoom,\r\n            syncCenterAndZoom,\r\n        }\r\n\r\n\r\n\r\n        //-----------------------------------------\r\n        // let map = ref('');\r\n\r\n\r\n        // const initMap = () => {\r\n        //     map.value = new BMapGL.Map('map');\r\n        //     map.value.centercenterAndZoom(new BMapGL.Point(104.072242, 30.663711), 14);\r\n        // }\r\n\r\n\r\n        // initMap();\r\n\r\n        // return {\r\n        //     map,\r\n        //     initMap,\r\n        // }\r\n        // onMounted(() => {\r\n\r\n        // })\r\n        // var map = new BMap.Map('container')\r\n        // var point = new BMap.Point(116.404, 39.915)\r\n        // map.centerAndZoom(point, 15)\r\n        // map.enableScrollWheelZoom(true)\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.map {\r\n    width: 100%;\r\n    height: 1500px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}